# Node模式使用指南

## 概述

Node模式是Artboard应用中的一种专门的可视化编程模式，允许用户通过拖拽和连接节点的方式创建复杂的工作流程。该模式特别适合创建AI图像生成流水线、数据处理管道以及多步骤的创意工作流。

## 模式切换

### 如何进入Node模式
1. 在应用顶部导航栏中找到模式切换器
2. 点击右侧切换到"节点模式"
3. 界面将切换到Node编辑环境

### 模式特性
- **可视化编程**: 通过节点和连线构建逻辑流程
- **实时预览**: 节点处理结果可即时查看
- **模块化设计**: 每个节点负责特定功能
- **数据流驱动**: 数据在节点间流动和转换

## 可用节点类型

### 1. Prompt Node (文本提示节点)
- **功能**: 输入AI图像生成的文本描述
- **输入**: 无
- **输出**: 文本提示信息
- **使用方法**: 
  - 点击工具栏中的文本图标 (T) 添加
  - 在节点中输入描述文字
  - 支持多行文本和详细描述

### 2. Image Node (图像节点)
- **功能**: 输入、存储和传递图像数据
- **输入**: 图像文件或来自其他节点的图像
- **输出**: 图像数据
- **使用方法**:
  - 点击工具栏中的图片图标添加
  - 拖拽图片文件到节点区域
  - 或点击"上传"按钮选择文件
  - 双击图像可全屏预览

### 3. 3D Node (3D模型节点)
- **功能**: 处理和渲染3D模型
- **输入**: 3D模型文件或相关参数
- **输出**: 渲染后的图像或3D数据
- **使用方法**:
  - 点击工具栏中的立方体图标添加
  - 上传3D模型文件
  - 调整渲染参数

### 4. Camera Node (相机节点)
- **功能**: 捕获画布快照或相机输入
- **输入**: 画布状态或外部相机
- **输出**: 捕获的图像
- **使用方法**:
  - 点击工具栏中的相机图标添加
  - 配置捕获参数
  - 触发拍照操作

### 5. Generate Node (生成节点)
- **功能**: 执行AI图像生成任务
- **输入**: 文本提示、参考图像等
- **输出**: AI生成的图像
- **使用方法**:
  - 点击工具栏中的星星图标添加
  - 连接Prompt Node和其他输入节点
  - 配置生成参数
  - 执行生成任务

### 6. Text Chat Node (纯文本交互节点)
- **功能**: 聚合多个文本提示并调用AI模型返回纯文本回复
- **输入**: 来自多个 Prompt/Optimize/Analysis 节点的文本输出，可额外填写手动描述
- **输出**: 纯文本（自动同步到下游节点的 `prompt/text` 输入）
- **使用方法**:
  - 在工具栏中选择文字交互或在添加面板里选择 `Text Chat Node`
  - 将多个文本节点连接至左侧 `prompt` 端口，节点会自动拼接为请求内容
  - 可在节点内填写追加描述，并根据需要开启启用联网搜索
  - 点击 `Run` 执行，请求完成后回复会显示在回复区域并可继续传递给生成节点

## 节点操作

### 添加节点
1. 使用左侧工具栏中的节点按钮
2. 点击对应图标在画布中添加节点
3. 节点将出现在画布中心位置

### 连接节点
1. 将鼠标悬停在节点的输出端口（右侧圆点）
2. 按住并拖拽到目标节点的输入端口（左侧圆点）
3. 释放鼠标完成连接
4. 连线表示数据流向

### 节点配置
1. 选中节点查看属性面板
2. 在节点内部直接编辑内容
3. 调整节点参数和设置
4. 配置输入输出选项

### 节点管理
- **移动**: 拖拽节点标题栏
- **调整大小**: 拖拽节点边缘的调整手柄
- **删除**: 选中节点后按Delete键
- **复制**: Ctrl+C 复制，Ctrl+V 粘贴

## 工作流创建

### 基础图像生成流程
```
Prompt Node → Generate Node → Image Node
```
1. 创建Prompt Node，输入描述文字
2. 添加Generate Node作为生成器
3. 连接Prompt到Generate的输入
4. Generate的输出连接到Image Node
5. 执行生成任务

### 图像编辑流程
```
Image Node → Generate Node → Image Node
    ↑             ↑
Prompt Node -------┘
```
1. 上传原始图像到Image Node
2. 创建编辑提示的Prompt Node
3. 将两者连接到Generate Node
4. 输出到新的Image Node

### 3D渲染流程
```
3D Node → Camera Node → Image Node
```
1. 加载3D模型到3D Node
2. 配置Camera Node的视角参数
3. 渲染结果输出到Image Node

## 最佳实践

### 节点布局
- **从左到右**: 按照数据流方向排列节点
- **分层组织**: 相关节点放在同一水平线
- **留白充足**: 节点间保持适当距离
- **逻辑分组**: 使用视觉分组组织复杂流程

### 参数设置
- **明确输入**: 确保每个节点的输入数据完整
- **测试连接**: 定期检查节点间的连接关系
- **参数调优**: 逐步调整参数获得最佳效果
- **保存快照**: 记录重要的参数配置

### 性能优化
- **避免循环**: 确保数据流是有向无环图
- **缓存利用**: 重复使用已处理的结果
- **分步执行**: 将复杂流程分解为小步骤
- **资源监控**: 注意内存和处理时间

## 调试和故障排除

### 常见问题
1. **节点无法连接**
   - 检查数据类型是否匹配
   - 确认输入输出端口对应关系
   - 验证节点状态是否正常

2. **生成失败**
   - 检查Prompt Node内容是否完整
   - 确认Generate Node参数设置
   - 查看错误信息和日志

3. **性能缓慢**
   - 减少同时处理的节点数量
   - 优化图像分辨率设置
   - 清理不必要的中间结果

### 调试技巧
- **分段测试**: 逐个测试节点功能
- **数据检查**: 验证每个节点的输出
- **日志查看**: 关注控制台错误信息
- **简化流程**: 从最简单的流程开始构建

## 快捷键

| 快捷键 | 功能 |
|--------|------|
| T | 添加Prompt Node |
| I | 添加Image Node |
| B | 添加3D Node |
| C | 添加Camera Node |
| G | 添加Generate Node |
| Delete | 删除选中节点 |
| Ctrl+C | 复制节点 |
| Ctrl+V | 粘贴节点 |
| Ctrl+Z | 撤销操作 |
| Space | 拖拽画布 |

## 高级功能

### 批量处理
- 创建可重复使用的节点模板
- 设置批量生成参数
- 自动化执行多个任务

### 参数传递
- 使用变量在节点间传递参数
- 创建参数化的工作流模板
- 实现动态参数调整

### 输出管理
- 配置多种输出格式
- 设置文件命名规则
- 管理生成结果的存储

## 与Chat模式的区别

| 特性 | Node模式 | Chat模式 |
|------|----------|-----------|
| 交互方式 | 可视化拖拽 | 文本对话 |
| 适用场景 | 复杂工作流 | 快速生成 |
| 学习曲线 | 中等 | 简单 |
| 可控性 | 高 | 中等 |
| 可重用性 | 高 | 低 |
| 调试能力 | 强 | 弱 |

## 结语

Node模式为专业用户提供了强大的可视化编程能力，特别适合创建复杂的AI工作流程。通过合理的节点布局和连接，可以构建出高效、可重用的创作流水线。

建议初学者从简单的线性流程开始，逐步掌握各种节点的使用方法，再进阶到复杂的分支和循环结构。

---

*本文档随应用功能更新持续维护，如有问题请参考最新版本或联系技术支持。*
